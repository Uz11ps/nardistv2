# Чек-лист тестирования Telegram Mini App «Нарды»

## Аутентификация

- [ ] Авторизация через Telegram initData работает корректно
- [ ] JWT токен сохраняется и используется для запросов
- [ ] При истечении токена происходит переавторизация
- [ ] Новый пользователь автоматически создается в системе
- [ ] Реферальный код генерируется при регистрации

## Профиль пользователя

- [ ] Отображение данных профиля корректно
- [ ] Обновление никнейма работает
- [ ] Обновление страны работает
- [ ] Статистика пользователя отображается правильно

## Игровая логика

### Короткие нарды

- [ ] Инициализация игры работает корректно
- [ ] Бросок кубиков происходит на сервере
- [ ] Валидация ходов работает правильно
- [ ] Блокировка фишек работает
- [ ] Вывод фишек (bear off) работает
- [ ] Определение победителя корректно

### Длинные нарды

- [ ] Инициализация игры работает корректно
- [ ] Правила длинных нард применяются правильно
- [ ] Валидация ходов работает
- [ ] Определение победителя корректно

### Игра с ботом

- [ ] Бот делает ходы автоматически
- [ ] Уровень сложности соответствует "средний"
- [ ] Таймер хода работает

### Быстрая игра

- [ ] Матчмейкинг находит соперника
- [ ] Подбор по рейтингу работает
- [ ] Создание комнаты происходит корректно

## WebSocket соединение

- [ ] Подключение к WebSocket работает
- [ ] Переподключение при разрыве соединения работает
- [ ] Синхронизация состояния игры работает
- [ ] Таймеры отображаются корректно
- [ ] Уведомления о действиях соперника приходят

## Рейтинговая система

- [ ] Elo рейтинг рассчитывается правильно
- [ ] Рейтинг обновляется после игры
- [ ] Таблица лидеров отображается корректно
- [ ] Рейтинги по режимам (SHORT/LONG) разделены

## Турниры

- [ ] Создание турнира работает
- [ ] Регистрация на турнир работает
- [ ] Автоматическое продвижение работает
- [ ] Таблица результатов отображается

## Реферальная система

- [ ] Реферальный код уникален для каждого пользователя
- [ ] Использование реферального кода работает
- [ ] Награды за рефералов начисляются
- [ ] Статистика рефералов отображается

## История игр

- [ ] История игр сохраняется
- [ ] Фильтрация истории работает
- [ ] Реплей игры воспроизводится
- [ ] Экспорт истории работает

## Квесты

- [ ] Ежедневные квесты отображаются
- [ ] Недельные квесты отображаются
- [ ] Прогресс квестов обновляется
- [ ] Награды за выполнение начисляются

## Город

- [ ] Отображение зданий работает
- [ ] Сбор дохода работает
- [ ] Кап накопления работает (24 часа)
- [ ] Апгрейд зданий работает
- [ ] Пассивный доход рассчитывается правильно

## Подписка

- [ ] Проверка подписки работает
- [ ] Доступ к истории для подписчиков работает
- [ ] Доступ к анализу для подписчиков работает
- [ ] Доступ к тренажеру для подписчиков работает
- [ ] Премиум-значок отображается

## Академия

- [ ] Список статей отображается
- [ ] Просмотр статей работает
- [ ] Роль "Тренер" присваивается на 20 уровне
- [ ] Платные материалы доступны за NAR-coin

## Скины

- [ ] Список скинов отображается
- [ ] Предпросмотр скинов работает
- [ ] Применение скинов работает
- [ ] Скины отображаются в игре

## Админ-панель

- [ ] Управление пользователями работает
- [ ] Бан/разбан пользователей работает
- [ ] Создание турниров работает
- [ ] Управление статьями работает
- [ ] Управление скинами работает

## Производительность

- [ ] Отображение хода < 150 мс
- [ ] p95 серверной задержки < 200 мс при 200 одновременных пользователях
- [ ] Страницы загружаются быстро

## Безопасность

- [ ] HTTPS работает корректно
- [ ] Верификация Telegram initData работает
- [ ] JWT токены валидируются
- [ ] XSS защита работает
- [ ] CSRF защита работает

## Мобильная адаптация

- [ ] Приложение корректно отображается на iOS
- [ ] Приложение корректно отображается на Android
- [ ] Игровое поле адаптируется под размер экрана
- [ ] Навигация удобна на мобильных устройствах

## Интеграция с Telegram

- [ ] Telegram Web Apps SDK инициализируется
- [ ] Цвета приложения настраиваются
- [ ] Кнопки Telegram работают
- [ ] Уведомления через бота работают

